"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react");function useModel(e){var r=e.state,t=e.reducers,u=e.effects,a=e.initializer,n=e.debug,c=void 0!==n&&n,d=react.useReducer(makeReducer(t),r,a),o=d[0],s=d[1],i=react.useMemo(function(){return makeActions(s,t,c)},[t]);return[o,i,u?u({state:o,actions:i}):void 0]}var reducerHanlder=function(e){var r=e.preState,t=e.payload;return(0,e.redurcer)(r,t)};function makeReducer(t){return function(e,r){return r&&r.type&&t[r.type]?reducerHanlder({preState:e,payload:r.payload,redurcer:t[r.type]}):e}}function makeActions(u,e,a){return Object.keys(e).reduce(function(e,t){return e[t]||(e[t]=function(e){var r={type:t,payload:e};u(r),a&&console.log(r)}),e},{})}function setReducerHanlder(e){reducerHanlder=e}exports.default=useModel,exports.makeActions=makeActions,exports.makeReducer=makeReducer,exports.setReducerHanlder=setReducerHanlder;
